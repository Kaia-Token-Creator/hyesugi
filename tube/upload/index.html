<!DOCTYPE html>
<html lang="ko">
<head>
  <!-- 외부 스크립트들은 페이지 상단에 그대로 두셔도 됩니다 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-QR5TWB3RYJ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-QR5TWB3RYJ');
  </script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9891583086388017" crossorigin="anonymous"></script>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Tube 글 생성기 — hyesugi.com</title>
  <meta name="description" content="번호/제목/유튜브 링크/리뷰를 입력하면 hyesugi.com/tube/번호 형태의 완성 HTML을 생성합니다." />
  <meta name="robots" content="noindex, nofollow" />
  <style>
    :root{--bg:#f6f7fb;--ink:#111;--brand:#9bbbd4;}
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--ink);font:14px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Apple SD Gothic Neo,Malgun Gothic,'맑은 고딕',sans-serif}
    .wrap{max-width:960px;margin:24px auto;padding:16px}
    h1{font-size:20px;margin:0 0 12px}
    .card{background:#fff;border-radius:14px;box-shadow:0 8px 22px rgba(0,0,0,.06);padding:16px}
    label{display:block;font-weight:700;margin:10px 0 6px}
    input[type="text"], textarea{width:100%;padding:10px 12px;border:1px solid #e4e6eb;border-radius:10px;background:#fcfcfd;font:14px/1.4 inherit;outline:none}
    textarea{min-height:90px;resize:vertical}
    .row{display:grid;grid-template-columns:1fr;gap:12px}
    @media (min-width:720px){.row{grid-template-columns:160px 1fr}}
    .hint{color:#666;font-size:12px;margin-top:4px}
    .btns{display:flex;gap:8px;flex-wrap:wrap;margin-top:14px}
    button{cursor:pointer;border:0;border-radius:10px;padding:10px 14px;font-weight:700}
    .primary{background:#111;color:#fff}
    .ghost{background:#f2f3f7}
    .ok{background:#1a73e8;color:#fff}
    .out{margin-top:16px}
    .mono{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace}
    #result{min-height:360px;white-space:pre}
    .foot{opacity:.7;font-size:12px;margin-top:12px}
    .k{background:#fffae0;padding:8px;border-radius:8px;border:1px dashed #f0d98a}
    .badge{display:inline-block;background:var(--brand);color:#000;padding:2px 8px;border-radius:999px;font-size:12px;margin-left:6px}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Tube 글 생성기 <span class="badge">코드만 출력</span></h1>
    <div class="card">
      <div class="row">
        <div>
          <label for="num">번호</label>
          <input id="num" type="text" placeholder="예: 001" inputmode="numeric" />
          <div class="hint">경로/미리보기 이미지에 사용됨: <span class="k">/tube/번호</span>, <span class="k">/tube/번호/preview.jpg</span></div>
        </div>
        <div>
          <label for="title">제목</label>
          <input id="title" type="text" placeholder="예: 가격 때문에 논란 중인 이효리 요가원" />
        </div>
      </div>

      <label for="yt">유튜브 링크</label>
      <input id="yt" type="text" placeholder="예: https://youtube.com/shorts/XXXXX 또는 https://www.youtube.com/watch?v=VIDEO_ID" />

      <label for="review">리뷰</label>
      <textarea id="review" placeholder="리뷰를 입력하세요. 줄바꿈은 유지됩니다."></textarea>

      <div class="btns">
        <button class="primary" id="make">코드 생성</button>
        <button class="ok" id="copy" title="아래 결과 전체를 복사합니다">복사</button>
        <button class="ghost" id="clear">초기화</button>
      </div>

      <div class="out">
        <label for="result">생성된 HTML</label>
        <textarea id="result" class="mono" spellcheck="false" readonly></textarea>
      </div>

      <div class="foot">※ 미리보기/렌더링 없이 <b>텍스트로만</b> 출력합니다. 생성 후 그대로 복사해 파일로 저장하세요.</div>
    </div>
  </div>

  <!-- 단일 스크립트 블록: 중복 선언/충돌 방지 -->
  <script>
    // 닫는 스크립트 태그를 안전하게 출력하기 위한 토큰
    const END_SCRIPT = "</" + "script>";

    // 유틸
    function esc(s=''){return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');}
    function toHtmlLines(s=''){return esc(s).replace(/\r?\n/g,'<br>');}

    // 출력할 HTML 템플릿
    function template({num, title, yt, reviewHtml}){
      return `<!DOCTYPE html>
<html lang="ko">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QR5TWB3RYJ">${END_SCRIPT}
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-QR5TWB3RYJ');
${END_SCRIPT}
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9891583086388017" crossorigin="anonymous">${END_SCRIPT}

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <title>${esc(title)}</title>
  <meta name="description" content="${esc(title)}" />
  <link rel="canonical" href="https://hyesugi.com/tube/${esc(num)}" />
  <meta name="robots" content="index,follow" />
  <meta name="theme-color" content="#9bbbd4" />

  <link rel="icon" href="https://hyesugi.com/favicon.ico" sizes="any" />
  <link rel="apple-touch-icon" href="https://hyesugi.com/apple-touch-icon.png" sizes="180x180" />
  <link rel="manifest" href="https://hyesugi.com/site.webmanifest" />

  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="https://hyesugi.com/tube/${esc(num)}" />
  <meta property="og:url" content="https://hyesugi.com/tube/${esc(num)}" />
  <meta property="og:title" content="${esc(title)}" />
  <meta property="og:description" content="${esc(title)}" />
  <meta property="og:image" content="https://hyesugi.com/tube/${esc(num)}/preview.jpg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:alt" content="https://hyesugi.com/tube/${esc(num)}/preview.jpg" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="${esc(title)}" />
  <meta name="twitter:description" content="${esc(title)}" />
  <meta name="twitter:image" content="https://hyesugi.com/tube/${esc(num)}/preview.jpg" />

  <link rel="preload" as="image" href="https://hyesugi.com/tube/${esc(num)}/preview.jpg" imagesrcset="https://hyesugi.com/tube/${esc(num)}/preview.jpg" />

  <script src="https://cdn.tailwindcss.com">${END_SCRIPT}
</head>
<body class="bg-white font-sans">
  <div id="app" class="flex flex-col min-h-screen max-w-3xl mx-auto bg-[#9bbbd4]">
    <header class="bg-white/30 backdrop-blur-sm text-center py-4 shadow-md relative">
      <h1 class="text-xl font-bold text-gray-800 flex items-center justify-center gap-2">
        <a href="https://hyesugi.com" class="flex items-center justify-center gap-2" aria-label="hyesugi.com으로 이동">
          <img src="https://hyesugi.com/hyesugi.jpg" alt="혜숙이" class="w-14 h-14 rounded-full object-cover">
          당신의 상담친구 혜숙이
        </a>
      </h1>
      <p class="text-sm text-gray-600">우측 메뉴를 눌러보세요</p>
      <button id="menu-btn" class="absolute right-3 top-1/2 -translate-y-1/2 p-2 rounded-md hover:bg-white/60 focus:outline-none focus:ring-2 focus:ring-black/40" aria-label="메뉴 열기">
        <svg class="w-6 h-6 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7h16M4 12h16M4 17h16"/></svg>
      </button>
    </header>

    <main id="content" class="flex-1 p-4">
      <section id="video-post" class="space-y-4">
        <h2 class="text-2xl font-extrabold text-gray-900 tracking-tight">${esc(title)}</h2>

        <div class="w-full rounded-xl overflow-hidden shadow-md bg-white">
          <div class="relative w-full" style="padding-bottom:56.25%;">
            <iframe id="yt-iframe" class="absolute left-0 top-0 w-full h-full" src="" title="YouTube video player" frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen data-youtube-url="${esc(yt)}"></iframe>
          </div>
        </div>

        <div class="bg-[#FFCD50] text-black rounded-xl p-4 shadow leading-relaxed">
          <p class="font-semibold">${reviewHtml}</p>
        </div>

        <div class="pt-2">
          <button id="inline-share-btn" class="w-full md:w-auto inline-flex items-center justify-center gap-2 bg-black text-white px-4 py-2 rounded-lg shadow hover:opacity-90 active:scale-[0.99] transition" aria-label="공유하기">
            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12v7a1 1 0 001 1h14a1 1 0 001-1v-7M16 6l-4-4m0 0L8 6m4-4v16"/></svg>
            공유하기
          </button>
        </div>
      </section>
    </main>
  </div>

  <div id="drawer-overlay" class="fixed inset-0 bg-black/30 hidden z-40"></div>
  <aside id="drawer" class="fixed right-0 top-0 h-full w-1/2 max-w-md bg-white shadow-xl translate-x-full transition-transform duration-300 z-50">
    <div class="flex items-center justify-between p-4 border-b">
      <h2 class="font-bold text-gray-800">메뉴</h2>
      <button id="drawer-close" class="p-2 rounded-md hover:bg-gray-100" aria-label="메뉴 닫기">
        <svg class="w-5 h-5 text-gray-700" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
      </button>
    </div>
    <nav class="p-4 space-y-2">
      <a href="https://hyesugi.com" class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-800">HOME</a>
      <a href="https://hyesugi.com/luck" class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-800">위로와 행운</a>
      <a href="https://hyesugi.com/fate" class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-800">사주와 궁합</a>
      <a href="https://hyesugi.com/facereading" class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-800">나의 관상은</a>
      <a href="https://hyesugi.com/handreading" class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-800">나의 손금은</a>
      <a href="https://hyesugi.com/board" class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-800">익명 게시판</a>
      <a href="https://hyesugi.com/expert" class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-800">전문가 상담</a>
      <a href="https://hyesugi.com/solo" class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-800">솔로는 여기</a>
      <a href="https://hyesugi.com/money" class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-800">돈되는 정보</a>
      <a href="https://hyesugi.com/game" class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-800">신나는 게임</a>
      <a href="https://hyesugi.com/tube" class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-800">혜숙이 튜브</a>
      <a href="https://hyesugi.com/info" class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-800">이용 안내</a>
      <a href="#" id="share-btn" class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-800">공유하기</a>
    </nav>
  </aside>
</body>
</html>`;
    }

    // === 이벤트 바인딩 ===
    function build(){
      const num = (document.getElementById('num').value || '').trim();
      const title = (document.getElementById('title').value || '').trim();
      const yt = (document.getElementById('yt').value || '').trim();
      const review = (document.getElementById('review').value || '').trim();
      if (!num || !title || !yt || !review){ alert('번호, 제목, 유튜브 링크, 리뷰를 모두 입력하세요.'); return; }
      const html = template({ num, title, yt, reviewHtml: toHtmlLines(review) });
      const out = document.getElementById('result');
      out.value = html;
      out.scrollTop = 0;
      out.focus();
      out.setSelectionRange(0, 0);
    }

    document.getElementById('make').addEventListener('click', build);
    document.getElementById('copy').addEventListener('click', async () => {
      const out = document.getElementById('result');
      if (!out.value){ alert('먼저 코드를 생성하세요.'); return; }
      try { await navigator.clipboard.writeText(out.value); alert('생성된 HTML 전체가 복사되었습니다.'); }
      catch { out.select(); document.execCommand('copy'); alert('클립보드 복사 완료(호환 모드).'); }
    });
    document.getElementById('clear').addEventListener('click', () => {
      document.getElementById('num').value =
      document.getElementById('title').value =
      document.getElementById('yt').value =
      document.getElementById('review').value = '';
      document.getElementById('result').value = '';
      document.getElementById('num').focus();
    });
  </script>
</body>
</html>
