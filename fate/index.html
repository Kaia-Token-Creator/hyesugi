<!DOCTYPE html>
<html lang="ko">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QR5TWB3RYJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-QR5TWB3RYJ');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9891583086388017"
     crossorigin="anonymous"></script>

  <!-- ê¸°ë³¸ ì„¤ì • -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>í˜œìˆ™ì´ì˜ ìƒë‹´ì†Œ - ì‚¬ì£¼í’€ì´</title>
  <meta name="description" content="ìƒë‹´ê°€ì´ì ë‹¤ì •í•œ ì¹œêµ¬, â€˜í˜œìˆ™ì´â€™ê°€ ë‹¹ì‹ ì˜ ì‚¬ì£¼ë¥¼ í’€ì–´ë“œë¦½ë‹ˆë‹¤." />
  <link rel="canonical" href="https://hyesugi.com/" />
  <meta name="robots" content="index,follow" />
  <meta name="theme-color" content="#9bbbd4" />

  <!-- Favicon & App Icons -->
  <link rel="icon" href="https://hyesugi.com/favicon.ico" sizes="any" />
  <link rel="apple-touch-icon" href="https://hyesugi.com/apple-touch-icon.png" sizes="180x180" />
  <link rel="manifest" href="https://hyesugi.com/site.webmanifest" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="hyesugi.com" />
  <meta property="og:url" content="https://hyesugi.com/" />
  <meta property="og:title" content="í˜œìˆ™ì´ì˜ ì‚¬ì£¼í’€ì´" />
  <meta property="og:description" content="â€˜í˜œìˆ™ì´â€™ê°€ ì‚¬ì£¼ë¥¼ í’€ì–´ë“œë¦½ë‹ˆë‹¤" />
  <meta property="og:image" content="https://hyesugi.com/og-image.jpg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:alt" content="í˜œìˆ™ì´ ìƒë‹´ í™”ë©´ ë¯¸ë¦¬ë³´ê¸°" />

  <!-- Twitter (X) Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="í˜œìˆ™ì´ì˜ ì‚¬ì£¼í’€ì´" />
  <meta name="twitter:description" content="ë‹¤ì •í•œ ì‚¬ì£¼ì „ë¬¸ê°€ â€˜í˜œìˆ™ì´â€™ì™€ ëŒ€í™”í•´ ë³´ì„¸ìš”." />
  <meta name="twitter:image" content="https://hyesugi.com/og-image.jpg" />

  <link rel="preload" as="image" href="https://hyesugi.com/preview.jpg" imagesrcset="https://hyesugi.com/preview.jpg" />

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-white font-sans">
  <div id="app" class="flex flex-col min-h-screen max-w-3xl mx-auto bg-[#9bbbd4]">

    <!-- Header + í–„ë²„ê±° ë©”ë‰´ ë²„íŠ¼ -->
    <header class="bg-white/30 backdrop-blur-sm text-center py-4 shadow-md relative">
      <h1 class="text-xl font-bold text-gray-800 flex items-center justify-center gap-2">
        <a href="https://hyesugi.com" class="flex items-center justify-center gap-2" aria-label="hyesugi.comìœ¼ë¡œ ì´ë™">
          <img src="https://hyesugi.com/hyesugi.jpg" alt="í˜œìˆ™ì´" class="w-14 h-14 rounded-full object-cover">
          ë‹¹ì‹ ì˜ ìƒë‹´ì¹œêµ¬ í˜œìˆ™ì´
        </a>
      </h1>
      <p class="text-sm text-gray-600">ë‚˜ì˜ ì‚¬ì£¼ëŠ”</p>

      <!-- í–„ë²„ê±° ë²„íŠ¼ -->
      <button id="menu-btn" class="absolute right-3 top-1/2 -translate-y-1/2 p-2 rounded-md hover:bg-white/60 focus:outline-none focus:ring-2 focus:ring-black/40" aria-label="ë©”ë‰´ ì—´ê¸°">
        <svg class="w-6 h-6 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7h16M4 12h16M4 17h16"/>
        </svg>
      </button>
    </header>

    <!-- ë³¸ë¬¸ -->
    <main id="content" class="flex-1 p-4">
      <!-- ğŸ”® ë‚˜ì˜ ì‚¬ì£¼ëŠ”: ì…ë ¥ í¼ -->
      <section class="mx-auto max-w-xl bg-white/70 backdrop-blur-sm rounded-2xl p-5 shadow">
  <h2 class="text-lg font-bold text-gray-900 mb-4">ë‚˜ì˜ ì‚¬ì£¼ëŠ” / ê¶í•©</h2>

  <!-- ëª¨ë“œ ì„ íƒ: ì‚¬ì£¼ / ê¶í•© -->
  <div class="mb-4 flex rounded-full bg-white p-1 ring-1 ring-black/10 w-fit">
  <button type="button" data-mode="saju"
    class="mode-btn px-4 py-2 rounded-full text-sm font-semibold bg-black text-white">ì‚¬ì£¼</button>
  <button type="button" data-mode="match"
    class="mode-btn px-4 py-2 rounded-full text-sm font-semibold text-gray-800">ê¶í•©</button>
</div>


  <form id="saju-form" class="space-y-4">
    <input type="hidden" id="mode" value="saju" />

    <!-- A(ë‚˜) -->
    <fieldset class="space-y-3">
      <legend class="text-sm font-semibold text-gray-900">ë‚´ ì •ë³´</legend>

      <div>
        <label for="birthDate" class="block text-sm font-medium text-gray-800">ìƒë…„ì›”ì¼ (ì–‘ë ¥)</label>
        <input id="birthDate" name="birthDate" type="date" required
               class="mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black/30 bg-white" />
      </div>

      <div class="flex items-center gap-3">
        <div class="flex-1">
          <label for="birthTime" class="block text-sm font-medium text-gray-800">ì¶œìƒ ì‹œê°„</label>
          <input id="birthTime" name="birthTime" type="time" step="60"
                 class="mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black/30 bg-white" />
        </div>
        <label class="mt-6 inline-flex items-center gap-2 select-none">
          <input id="unknownTime" type="checkbox" class="w-4 h-4">
          <span class="text-sm text-gray-800">ëª¨ë¦„</span>
        </label>
      </div>
    </fieldset>

    <!-- B(ìƒëŒ€) â€” ê¶í•© ëª¨ë“œì—ì„œë§Œ í‘œì‹œ -->
    <fieldset id="partner-fields" class="space-y-3 hidden">
      <legend class="text-sm font-semibold text-gray-900">ìƒëŒ€ ì •ë³´</legend>

      <div>
        <label for="birthDate2" class="block text-sm font-medium text-gray-800">ìƒë…„ì›”ì¼ (ì–‘ë ¥)</label>
        <input id="birthDate2" name="birthDate2" type="date"
               class="mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black/30 bg-white" />
      </div>

      <div class="flex items-center gap-3">
        <div class="flex-1">
          <label for="birthTime2" class="block text-sm font-medium text-gray-800">ì¶œìƒ ì‹œê°„</label>
          <input id="birthTime2" name="birthTime2" type="time" step="60"
                 class="mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black/30 bg-white" />
        </div>
        <label class="mt-6 inline-flex items-center gap-2 select-none">
          <input id="unknownTime2" type="checkbox" class="w-4 h-4">
          <span class="text-sm text-gray-800">ëª¨ë¦„</span>
        </label>
      </div>
    </fieldset>

    <!-- íƒ€ì„ì¡´(ê³µí†µ) -->
    <div>
      <label for="timezone" class="block text-sm font-medium text-gray-800">ì‹œê°„ëŒ€</label>
      <select id="timezone" class="mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-black/30">
        <option value="Asia/Seoul" selected>Asia/Seoul (KST)</option>
        <option value="UTC">UTC</option>
        <option value="Asia/Tokyo">Asia/Tokyo (JST)</option>
        <option value="America/Los_Angeles">America/Los_Angeles (PT)</option>
      </select>
    </div>

    <button id="saju-btn" type="submit"
            class="w-full rounded-full bg-black text-white font-semibold py-3 disabled:opacity-50 disabled:cursor-not-allowed">
      ë‚˜ì˜ ì‚¬ì£¼ëŠ”
    </button>
  </form>

  <!-- ê²°ê³¼ -->
  <div id="result" class="mt-5 hidden">
    <div id="loader" class="text-center text-sm text-gray-700">í˜œìˆ™ì´ê°€ í’€ì´ ì¤‘ì…ë‹ˆë‹¤. ì ì‹œë§Œìš”â€¦</div>
    <article id="answer" class="prose prose-sm max-w-none hidden bg-[#fff6cc] border border-yellow-300 rounded-xl p-4 leading-relaxed"></article>

    <div class="mt-3 flex items-center gap-2 justify-end">
      <button id="btn-share-content"
              class="px-4 py-2 rounded-full bg-black text-white text-sm font-semibold disabled:opacity-50 disabled:cursor-not-allowed"
              disabled>
        ë‚´ìš© ê³µìœ í•˜ê¸°
      </button>
      <button id="btn-share-link"
              class="px-4 py-2 rounded-full border border-gray-800 text-gray-900 bg-white text-sm font-semibold">
        ì¹œêµ¬ì•¼ ë„ˆë„ ë´ë´
      </button>
    </div>
  </div>

  <p class="mt-4 text-xs text-gray-700">â€» í•´ì„ì€ ì°¸ê³ ìš©ì…ë‹ˆë‹¤. ì˜ë£ŒÂ·ë²•ë¥ Â·ì¬ì • ìë¬¸ì´ ì•„ë‹ˆë©°, ì¤‘ìš”í•œ ê²°ì •ì€ ì‹ ì¤‘íˆ íŒë‹¨í•˜ì„¸ìš”.</p>
</section>

    </main>
  </div>

  <!-- Overlay & Drawer -->
  <div id="drawer-overlay" class="fixed inset-0 bg-black/30 hidden z-40"></div>
  <aside id="drawer" class="fixed right-0 top-0 h-full w-1/2 max-w-md bg-white shadow-xl translate-x-full transition-transform duration-300 z-50">
    <div class="flex items-center justify-between p-4 border-b">
      <h2 class="font-bold text-gray-800">ë©”ë‰´</h2>
      <button id="drawer-close" class="p-2 rounded-md hover:bg-gray-100" aria-label="ë©”ë‰´ ë‹«ê¸°">
        <svg class="w-5 h-5 text-gray-700" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>
    <nav class="p-4 space-y-2">
      <a href="https://hyesugi.com" class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-800">HOME</a>
      <a href="https://hyesugi.com/luck" class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-800">ìœ„ë¡œì™€ í–‰ìš´</a>
      <a href="https://hyesugi.com/fate" class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-800">ë‚˜ì˜ ì‚¬ì£¼ëŠ”</a>
      <a href="https://hyesugi.com/board" class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-800">ìµëª… ê²Œì‹œíŒ</a>
      <a href="https://hyesugi.com/expert" class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-800">ì „ë¬¸ê°€ ìƒë‹´</a>
      <a href="https://hyesugi.com/solo" class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-800">ì†”ë¡œëŠ” ì—¬ê¸°</a>
      <a href="https://hyesugi.com/money" class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-800">ëˆë˜ëŠ” ì •ë³´</a>
      <a href="https://hyesugi.com/game" class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-800">ì‹ ë‚˜ëŠ” ê²Œì„</a>
      <a href="https://hyesugi.com/info" class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-800">ì´ìš© ì•ˆë‚´</a>
      <a href="#" id="share-btn" class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-800">ê³µìœ í•˜ê¸°</a>
    </nav>
  </aside>

  <!-- ìŠ¤í¬ë¦½íŠ¸ -->
  <script>
    // === Drawer Toggle ===
    const menuBtn = document.getElementById('menu-btn');
    const drawer = document.getElementById('drawer');
    const drawerOverlay = document.getElementById('drawer-overlay');
    const drawerClose = document.getElementById('drawer-close');

    function openDrawer() {
      drawer.classList.remove('translate-x-full');
      drawerOverlay.classList.remove('hidden');
    }
    function closeDrawer() {
      drawer.classList.add('translate-x-full');
      drawerOverlay.classList.add('hidden');
    }

    menuBtn.addEventListener('click', openDrawer);
    drawerOverlay.addEventListener('click', closeDrawer);
    drawerClose.addEventListener('click', closeDrawer);
    document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeDrawer(); });

    // === Header ë©”ë‰´ì˜ "ê³µìœ í•˜ê¸°" (ê¸°ì¡´ ê¸°ëŠ¥ ìœ ì§€) ===
    const shareBtn = document.getElementById('share-btn');
    if (shareBtn) {
      shareBtn.addEventListener('click', async (e) => {
        e.preventDefault();
        const shareData = {
          title: 'í˜œìˆ™ì´ì˜ ìƒë‹´ì†Œ',
          text: 'ë‹¤ì •í•œ AI ìƒë‹´ê°€ í˜œìˆ™ì´ì™€ ëŒ€í™”í•´ ë³´ì„¸ìš”.',
          url: 'https://hyesugi.com'
        };
        try {
          if (navigator.share) {
            await navigator.share(shareData);
          } else {
            await navigator.clipboard.writeText(shareData.url);
            alert('ë§í¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤: ' + shareData.url);
          }
        } catch (err) {
          console.error(err);
          alert('ê³µìœ ì— ì‹¤íŒ¨í–ˆì–´ìš”. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.');
        }
      });
    }

    <script>
  // === Drawer í† ê¸€(ê¸°ì¡´ ìœ ì§€) ìœ„ìª½ ì½”ë“œ ê·¸ëŒ€ë¡œ ===

  // === ì‚¬ì£¼/ê¶í•© í¼ ë¡œì§ ===
  const API_ENDPOINT = "/api/chat";

  // ëª¨ë“œ ì „í™˜
  const modeBtns = document.querySelectorAll('.mode-btn');
  const modeInput = document.getElementById('mode');
  const partnerFields = document.getElementById('partner-fields');
  const submitBtn = document.getElementById('saju-btn');

  modeBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      modeBtns.forEach(b => b.classList.remove('bg-black','text-white'));
      btn.classList.add('bg-black','text-white');
      modeInput.value = btn.dataset.mode;

      const isMatch = modeInput.value === 'match';
      partnerFields.classList.toggle('hidden', !isMatch);
      submitBtn.textContent = isMatch ? 'ìš°ë¦¬ì˜ ê¶í•©ì€' : 'ë‚˜ì˜ ì‚¬ì£¼ëŠ”';
    });
  });

  // ì…ë ¥ ìš”ì†Œ
  const form = document.getElementById('saju-form');
  const birthTime = document.getElementById('birthTime');
  const unknownTime = document.getElementById('unknownTime');
  const birthTime2 = document.getElementById('birthTime2');
  const unknownTime2 = document.getElementById('unknownTime2');

  const resultBox = document.getElementById('result');
  const loader = document.getElementById('loader');
  const answer = document.getElementById('answer');

  const shareContentBtn = document.getElementById('btn-share-content');
  const shareLinkBtn = document.getElementById('btn-share-link');

  // ì‹œê°„ ëª¨ë¦„ ì²˜ë¦¬
  unknownTime.addEventListener('change', () => {
    birthTime.disabled = unknownTime.checked;
    if (unknownTime.checked) birthTime.value = "";
  });
  if (unknownTime2) {
    unknownTime2.addEventListener('change', () => {
      birthTime2.disabled = unknownTime2.checked;
      if (unknownTime2.checked) birthTime2.value = "";
    });
  }

  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    const mode = modeInput.value; // 'saju' | 'match'

    // A(ë‚˜)
    const dateA = document.getElementById('birthDate').value;
    const timeA = unknownTime.checked || !birthTime.value ? "ëª¨ë¦„" : birthTime.value;

    // B(ìƒëŒ€, ê¶í•©ì¼ ë•Œë§Œ)
    const dateB = document.getElementById('birthDate2')?.value || "";
    const timeB = (unknownTime2?.checked || !birthTime2?.value) ? "ëª¨ë¦„" : (birthTime2?.value || "");

    const tz = document.getElementById('timezone').value;

    // ê°„ë‹¨ ê²€ì¦
    if (!dateA) {
      alert("ë‚´ ìƒë…„ì›”ì¼ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.");
      return;
    }
    if (mode === 'match' && !dateB) {
      alert("ìƒëŒ€ì˜ ìƒë…„ì›”ì¼ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.");
      return;
    }

    // UX: ë¡œë”©
    resultBox.classList.remove('hidden');
    answer.classList.add('hidden');
    loader.classList.remove('hidden');
    submitBtn.disabled = true;
    if (shareContentBtn) shareContentBtn.disabled = true;

    // DeepSeek payload êµ¬ì„±
    const baseSystem = `
ë„ˆëŠ” 'í˜œìˆ™ì´'ë¼ëŠ” ë‹¤ì •í•œ í•´ì„ê°€ì•¼.
- í•œêµ­ì–´ë§Œ ì‚¬ìš©í•´.
- ì „ë¬¸ìš©ì–´ ë’¤ì—” ì‰¬ìš´ í’€ì´ë¥¼ ë§ë¶™ì—¬.
- ê³¼ë„í•œ ë‹¨ì •ë³´ë‹¤ 'ê²½í–¥/ê°€ëŠ¥ì„±' ìœ„ì£¼ë¡œ.
`;

    const userForSaju = `
ë‹¤ìŒ ì •ë³´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì„±í–¥Â·ê°•ì Â·ì£¼ì˜ì Â·ì˜¬í•´ íë¦„ì„ ê°„ë‹¨íˆ í’€ì´í•´ì¤˜.
- ì–‘ë ¥ ìƒë…„ì›”ì¼: ${dateA}
- ì¶œìƒì‹œê°„: ${timeA}
- ì‹œê°„ëŒ€: ${tz}
ì£¼ì˜:
1) ì¶œìƒì‹œê°„ì´ 'ëª¨ë¦„'ì´ë©´ ì‹œê°„ í•´ì„ì€ ì¼ë°˜í™”í•´ì„œ ë§í•´ì¤˜.
2) ì ìˆ Â·ì˜ë£ŒÂ·ë²•ë¥  í™•ì • ì¡°ì–¸ì€ í”¼í•˜ê³ , ì‹¤ì²œ íŒ ìœ„ì£¼ë¡œ.
3) ì„£ë¶€ë¥¸ ë‹¨ì • ëŒ€ì‹  ë‹¤ì–‘í•œ ê°€ëŠ¥ì„±ì„ í•¨ê»˜ ì œì‹œ.
ë§ˆë¬´ë¦¬ì— ì˜¤ëŠ˜ë¶€í„° ì‹¤ì²œí•  ìˆ˜ ìˆëŠ” ê°„ë‹¨í•œ ì¡°ì–¸ 3ê°€ì§€ë¥¼ bulletë¡œ ì œì‹œ.`;

    const userForMatch = `
ë‘ ì‚¬ëŒì˜ ê¶í•©ì„ ì•„ë˜ ì •ë³´ë¡œ í’€ì´í•´ì¤˜.
A(ë‚˜)
- ì–‘ë ¥ ìƒë…„ì›”ì¼: ${dateA}
- ì¶œìƒì‹œê°„: ${timeA}

B(ìƒëŒ€)
- ì–‘ë ¥ ìƒë…„ì›”ì¼: ${dateB}
- ì¶œìƒì‹œê°„: ${timeB}

ê³µí†µ
- ì‹œê°„ëŒ€: ${tz}

ì›í•˜ëŠ” ì¶œë ¥:
1) ê¸°ë³¸ ì„±í–¥ ë¹„êµ & ì˜ ë§ëŠ” ì§€ì 
2) ë³´ì™„/ì‹œë„ˆì§€ í¬ì¸íŠ¸
3) ê°ˆë“±ì´ ìƒê¸°ê¸° ì‰¬ìš´ ìƒí™©ê³¼ ì™„í™” íŒ
4) ì†Œí†µ/ë°ì´íŠ¸/ì¼ìƒì—ì„œì˜ ì‹¤ì²œ ì¡°ì–¸ 5ê°€ì§€ (bullet)
ì£¼ì˜: í™•ì •ì  ì˜ˆì–¸ ê¸ˆì§€, ê°€ëŠ¥ì„±ê³¼ ê²½í–¥ ìœ„ì£¼. ìƒëŒ€ë¥¼ ì¡´ì¤‘í•˜ëŠ” í†¤.`;

    const payload = {
      model: "deepseek-chat",
      temperature: 0.7,
      messages: [
        { role: "system", content: baseSystem.trim() },
        { role: "user", content: (mode === 'match' ? userForMatch : userForSaju).trim() }
      ]
    };

    try {
      const res = await fetch(API_ENDPOINT, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload)
      });
      const data = await res.json();

      let text = "";
      if (data?.choices?.[0]?.message?.content) text = data.choices[0].message.content;
      else if (data?.choices?.[0]?.text) text = data.choices[0].text;
      else if (typeof data === "string") text = data;
      else text = "ì‘ë‹µ í˜•ì‹ì„ ì´í•´í•˜ì§€ ëª»í–ˆì–´ìš”. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.";

      loader.classList.add('hidden');
      answer.classList.remove('hidden');
      answer.textContent = text;

      if (shareContentBtn) shareContentBtn.disabled = !text?.trim();

    } catch (err) {
      console.error(err);
      loader.classList.add('hidden');
      answer.classList.remove('hidden');
      answer.textContent = "ìš”ì²­ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì–´ìš”. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.";
      if (shareContentBtn) shareContentBtn.disabled = true;
    } finally {
      submitBtn.disabled = false;
    }
  });

  // ê³µìœ  ë²„íŠ¼(ê¸°ì¡´ ë¡œì§ ìœ ì§€)
  const answerEl = document.getElementById('answer');
  const shareContentBtn2 = document.getElementById('btn-share-content');
  const shareLinkBtn2 = document.getElementById('btn-share-link');

  if (shareContentBtn2) {
    shareContentBtn2.addEventListener('click', async () => {
      const text = (answerEl.textContent || "").trim();
      if (!text) return;
      const watermark = "\n\nâ€” https://hyesugi.com/fate";
      const shareData = { title: "í˜œìˆ™ì´ì˜ í’€ì´", text: text + watermark };
      try {
        if (navigator.share) await navigator.share(shareData);
        else {
          await navigator.clipboard.writeText(shareData.text);
          alert("í’€ì´ ë‚´ìš©ì´ ë³µì‚¬ë˜ì—ˆì–´ìš”. ì›í•˜ëŠ” ê³³ì— ë¶™ì—¬ë„£ê¸° í•˜ì„¸ìš”!");
        }
      } catch (err) {
        console.error(err);
        alert("ê³µìœ /ë³µì‚¬ì— ì‹¤íŒ¨í–ˆì–´ìš”. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.");
      }
    });
  }

  if (shareLinkBtn2) {
    shareLinkBtn2.addEventListener('click', async () => {
      const url = "https://hyesugi.com/fate";
      try {
        if (navigator.share) {
          await navigator.share({ title: "í˜œìˆ™ì´ì˜ ì‚¬ì£¼", text: "ì¹œêµ¬ì•¼ ë„ˆë„ ë´ë´", url });
        } else {
          await navigator.clipboard.writeText(url);
          alert("ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆì–´ìš”: " + url);
        }
      } catch (err) {
        console.error(err);
        alert("ê³µìœ /ë³µì‚¬ì— ì‹¤íŒ¨í–ˆì–´ìš”. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.");
      }
    });
  }
</script>


  <footer id="site-footer" class="text-center text-sm text-gray-700 py-6">
  <a href="https://hyesugi.com/donation" target="_blank" rel="noopener noreferrer"
     class="text-black font-semibold hover:underline">
     ë³µì±„ëŠ” ê´œì°®êµ¬ìš”! í˜œìˆ™ì´ì—ê²Œ ì»¤í”¼ í•œì” ì‚¬ì£¼ê¸° â˜•
  </a>
</footer>

</body>
</html>
